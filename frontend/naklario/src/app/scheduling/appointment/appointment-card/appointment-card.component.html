<div class="card">
  <div class="row">
    <div class="col-12 col-md-3 align-self-center">
      <h6>{{ appointment.subject.name }}</h6>
      <ng-container *ngIf="appointment.owner.equals(currentUser); else elseTemplate">
        <h6>
          <img [src]="appointment.invitee.tutordata.profilePicture" class='profile-pic' alt="">
          {{ appointment.invitee.firstName }}
        </h6>
      </ng-container>
      <ng-template #elseTemplate>
        <h6>
          {{ appointment.owner.firstName }} - 
          {{ appointment.owner.studentdata?.schoolData.grade }}. Klasse
          {{ appointment.owner.studentdata?.schoolData.schoolType.name }}
        </h6>
      </ng-template>
      
      
    </div>
    <div class="col-7 col-md-3 align-self-center">
      {{ appointment.startTime | date: 'd.M.yyyy' }}
    </div>
    <div class="col-5 col-md-2 align-self-center">
      {{ appointment.startTime | date: 'HH:mm' }}-{{ endDate | date: 'HH:mm' }}
    </div>
    <div class="col-md-2 col-6 btns align-self-center">
      <!--<button type="button" class="btn btn-outline-info" disabled>Angefragt</button>
      <button type="button" class="btn btn-outline-success" disabled>Best채tigt</button> 
      <button type="button" class="btn btn-outline-danger" disabled>Abgesagt</button> 
      <button type="button" class="btn btn-outline-success" disabled>Best채tigen</button> -->
   
      <div *ngIf="appointment.status === 'REQUESTED'">
        <ng-container
          *ngIf="appointment.owner.equals(currentUser); else acceptTemplate"
        >
          <button type="button" class="btn btn-outline-info" disabled>
            Angefragt
          </button>
        </ng-container>
        <ng-template #acceptTemplate>
          <button
            type="button"
            class="btn btn-success"
            (click)="accept()"
          >
            Best채tigen
          </button>
        </ng-template>
      </div>
      <div *ngIf="
      appointment.status === 'CONFIRMED' || 
      appointment.status === 'INVITEE_STARTED' || 
      appointment.status === 'OWNER_STARTED' ||
      appointment.status === 'BOTH_STARTED'">
        <button *ngIf='startTimeInRange()'
          type="button"
          class="btn btn-success"
          (click)="start()"
        >
          Starten
        </button>
        <button type="button" *ngIf='!startTimeInRange()' class="btn btn-outline-success" disabled>Best채tigt</button> 
      </div>
    
    </div>
    <div class="col-md-2 col-6 btns align-self-center">
      <button
        type="button"
        class="btn btn-outline-secondary"
        (click)="reject()"
      >
        Absagen
      </button>
    </div>
  </div>
</div>

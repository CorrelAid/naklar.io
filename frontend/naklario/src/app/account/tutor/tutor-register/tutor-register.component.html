<div class="container">
  <h1 class="primary-color">Tutoren sind gern gesehen</h1>
  <p class="lead">
    Nur durch die aktive Unterstützung unserer Tutoren können wir tausenden
    Schülern helfen.
  </p>

  <div class="alert alert-success text-center" [hidden]="!submitted">
    <p>Wir haben deine Anmeldung erhalten und überprüfen diese jetzt.</p>
    <p>Sobald wir fertig sind, <strong>melden wir uns per Mail</strong></p>
  </div>

  <form #tutorForm="ngForm" (ngSubmit)="onSubmit()">

    <div class="form-row">
      <div class="form-group col">
        <label for="first-name">Vorname</label>
        <input
          type="text"
          [(ngModel)]="model.first_name"
          [disabled]="submitted"
          class="form-control"
          name="first-name"
          required
        />
      </div>
      <div class="form-group col">
        <label for="last-name">Nachname</label>
        <input
          type="text"
          class="form-control"
          name="last-name"
          [(ngModel)]="model.last_name"
          [disabled]="submitted"
          required
        />
      </div>
    </div>

    <div class="form-row">
      <div class="from-group col">
        <label for="email">Email</label>
        <input
          type="email"
          name="email"
          class="form-control"
          [(ngModel)]="model.email"
          [disabled]="submitted"
          required
        />
      </div>
      <div class="from-group col">
        <label for="state">Bundesland</label>
        <select
          name="state"
          class="form-control"
          [(ngModel)]="model.state"
          [disabled]="submitted"
          required
        >
          <option *ngFor="let state of states" [ngValue]="state.id">
            {{ state.name }}
          </option>
        </select>
      </div>
    </div>
    
    <div class="form-row">
      <div class="form-group col">
        <label for="password">Passwort</label>
        <input
          type="password"
          name="password"
          class="form-control"
          [(ngModel)]="model.password"
          [disabled]="submitted"
          required
        />
      </div>
      <div class="form-group col">
        <label for="password-repeat">Passwort wiederholen</label>
        <input
          type="password"
          name="password-repeat"
          class="form-control"
          [(ngModel)]="model.password_repeat"
          [disabled]="submitted"
          required
        />
      </div>
    </div>

    <label>Schultypen, die du unterrichten möchtest:</label>
    <div class="form-group">
      <div *ngFor="let schoolType of schoolTypes" class="form-row">
        <div class="col-3 form-check my-3 align-middle">
          <input
            type="checkbox"
            name="school-type"
            id="school-type-{{ schoolType.id }}"
            class="form-check-input"
            [(ngModel)]="slider_enabled[schoolType.id]"
            [disabled]="submitted"
            required
          />
          <label class="form-check-label" for="school-type-{{ schoolType.id }}">
            {{ schoolType.name }}
          </label>
        </div>
        <div
          class="col-3 text-center align-middle"
          [hidden]="!slider_enabled[schoolType.id]"
        >
          <p>Klasse (von/bis):</p>
        </div>
        <div class="col" [hidden]="!slider_enabled[schoolType.id]">
          <ng5-slider
            [options]="slider_options[schoolType.id]"
            [(value)]="slider_data[schoolType.id].low"
            [(highValue)]="slider_data[schoolType.id].high"
          ></ng5-slider>
        </div>
      </div>
    </div>

    <div class="my-4">
      <div class="form-row">
        <label>Für welche Fächer willst du Fragen beantworten:</label>
      </div>
      <div class="form-row">
        <div
          *ngFor="let subject of subjects"
          class="form-check form-check-inline"
        >
          <input
            type="checkbox"
            name="subject"
            id="subject-{{ subject.id }}"
            class="from-check-input"
            [(ngModel)]="selected_subject[subject.id]"
            [disabled]="submitted"
            required
          />
          <label class="form-check-label" for="subject-{{ subject.id }}"
            >{{ subject.name }}
          </label>
        </div>
      </div>
    </div>

    <div class="form-group form-row form-check-inline">
      <input
        type="checkbox"
        name="terms"
        class="form-check-input"
        [(ngModel)]="model.terms_accepted"
        [disabled]="submitted"
        required
      />
      <label for="terms" class="form-check-label"
        >Ja, ich habe die
        <a routerLink="/account/terms">AGB</a> gelesen</label
      >
    </div>

    <button
      type="submit"
      class="btn btn-primary"
      [disabled]="tutorForm.invalid || submitted"
    >
      Absenden
    </button>
  </form>
</div>
